<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formulario de Registro</title>
  <style>
    body {
  background: linear-gradient(135deg, #1f2d3d, #34495e);
  font-family: 'Segoe UI', sans-serif;
  color: #ffffff;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

@keyframes fadeInUp {
  form {
  display: flex;
  flex-direction: column;
  gap: 16px; /* separa automáticamente todos los hijos */
}
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.form-container {
  background: rgba(44, 62, 80, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 60px 70px;

  border-radius: 15px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  width: 100%;
  max-width: 700px;
  animation: fadeInUp 1s ease-out;
}

.form-title {
  text-align: center;
  font-size: 36px;
  margin-bottom: 30px;
  font-weight: bold;
}

label {
  display: block;
  margin-bottom: 6px;
  margin-top: 12px;
  font-size: 16px;
  font-weight: 600;
}

input.form-control,
select.form-select {
  width: 100%;
  padding: 12px 15px;
  border: 1px solid #7f8c8d;
  background: rgba(255, 255, 255, 0.05);
  color: #ecf0f1;
  font-size: 16px;
  border-radius: 8px;
  outline: none;
  margin-top: 5px;
  margin-bottom: 20px;
  transition: all 0.3s ease;
}

input.form-control:focus,
select.form-select:focus {
  border-color: #1abc9c;
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 10px #1abc9c;
}

.form-select option {
  background-color: #34495e;
  color: #ecf0f1;
}

.btn-submit {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, #1abc9c, #16a085);
  color: #ffffff;
  font-size: 18px;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 20px;
  transition: background 0.3s ease, transform 0.2s ease;
}

.btn-submit:hover {
  background: linear-gradient(135deg, #16a085, #1abc9c);
  transform: scale(1.03);
}

.error {
  opacity: 0;
  max-height: 0;
  transition: opacity 0.4s ease, max-height 0.4s ease;
  color: #e74c3c;
  font-size: 0.9em;
  margin-top: -5px;
  margin-bottom: 10px;
}

.error.visible {
  opacity: 1;
  max-height: 100px;
}

.mensaje-exito {
  opacity: 0;
  transform: translateY(20px);
  background-color: #2ecc71;
  color: #ffffff;
  text-align: center;
  padding: 15px;
  border-radius: 8px;
  margin-top: 20px;
  font-size: 18px;
  transition: opacity 0.5s ease, transform 0.5s ease;
  max-height: 0;
  overflow: hidden;
}

.mensaje-exito.visible {
  opacity: 1;
  transform: translateY(0);
  max-height: 100px;
}

  </style>
</head>
<body>
  <div class="form-container">
    <h1 class="form-title">Registro de Usuario</h1>
    <form id="registroForm" action="/registrar" method="post">
      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" class="form-control" required />

      <label for="email">Correo Electrónico:</label>
      <input type="email" id="email" name="email" class="form-control" required />

      <label for="password">Contraseña:</label>
      <input type="password" id="password" name="password" class="form-control" required />

      <label for="genero">Género:</label>
      <select id="genero" name="genero" class="form-select" required>
        <option value="">Seleccione una opción</option>
        <option value="masculino">Masculino</option>
        <option value="femenino">Femenino</option>
        <option value="otro">Otro</option>
      </select>

      <button type="submit" class="btn-submit">Registrarse</button>
    </form>

    <div id="exito" class="mensaje-exito">¡Registro enviado con éxito!</div>
  </div>

  <script>
    document.getElementById('registroForm').addEventListener('submit', function (event) {
  event.preventDefault(); // Controlamos manualmente el envío

  const email = document.getElementById('email');
  const password = document.getElementById('password');
  const exito = document.getElementById('exito');
  let valid = true;

  // Limpiar errores anteriores
  document.querySelectorAll('.error').forEach(el => {
    el.classList.remove('visible');
    setTimeout(() => el.remove(), 400);
  });

  // Ocultar mensaje de éxito si estaba visible
  exito.classList.remove('visible');

  // Validación de email
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email.value)) {
    mostrarError(email, 'Ingrese un correo electrónico válido.');
    valid = false;
  }

  // Validación de contraseña
  const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;
  if (!passwordRegex.test(password.value)) {
    mostrarError(password, 'La contraseña debe tener al menos 8 caracteres e incluir letras y números.');
    valid = false;
  }

  if (valid) {
    // Mostrar mensaje de éxito
    exito.classList.add('visible');

    // Limpiar el formulario
    document.getElementById('registroForm').reset();

    // Ocultar el mensaje después de 3 segundos
    setTimeout(() => {
      exito.classList.remove('visible');
    }, 3000);
  }
});

function mostrarError(elemento, mensaje) {
  const error = document.createElement('div');
  error.className = 'error';
  error.innerText = mensaje;
  elemento.parentNode.insertBefore(error, elemento.nextSibling);
  setTimeout(() => error.classList.add('visible'), 10);
}

  </script>
</body>
</html>
